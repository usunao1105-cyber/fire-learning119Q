<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>助産業務ガイドライン e-Learning</title>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel (JSX変換用) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts (高級感のためのフォント) -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&family=Noto+Serif+JP:wght@400;600;700&display=swap" rel="stylesheet">

    <!-- Tailwind Config -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['"Noto Sans JP"', 'sans-serif'],
                        serif: ['"Noto Serif JP"', 'serif'],
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0' },
                            '100%': { opacity: '1' },
                        },
                        slideUp: {
                            '0%': { transform: 'translateY(20px)', opacity: '0' },
                            '100%': { transform: 'translateY(0)', opacity: '1' },
                        }
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.5s ease-out',
                        'slide-up': 'slideUp 0.5s ease-out',
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-slate-50 text-slate-800 font-sans">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;

        // -----------------------------------------------------------------------------
        // アイコンコンポーネント (Lucide-reactの代わり)
        // -----------------------------------------------------------------------------
        const IconBase = ({ children, className }) => (
            <svg 
                xmlns="http://www.w3.org/2000/svg" 
                width="24" height="24" viewBox="0 0 24 24" 
                fill="none" stroke="currentColor" strokeWidth="2" 
                strokeLinecap="round" strokeLinejoin="round" 
                className={className}
            >
                {children}
            </svg>
        );

        const BookOpen = ({ className }) => (
            <IconBase className={className}>
                <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path>
                <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path>
            </IconBase>
        );

        const CheckCircle = ({ className }) => (
            <IconBase className={className}>
                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                <polyline points="22 4 12 14.01 9 11.01"></polyline>
            </IconBase>
        );

        const XCircle = ({ className }) => (
            <IconBase className={className}>
                <circle cx="12" cy="12" r="10"></circle>
                <line x1="15" y1="9" x2="9" y2="15"></line>
                <line x1="9" y1="9" x2="15" y2="15"></line>
            </IconBase>
        );

        const RefreshCw = ({ className }) => (
            <IconBase className={className}>
                <path d="M21 2v6h-6"></path>
                <path d="M3 12a9 9 0 0 1 15-6.7L21 8"></path>
                <path d="M3 22v-6h6"></path>
                <path d="M21 12a9 9 0 0 1-15 6.7L3 16"></path>
            </IconBase>
        );

        const Award = ({ className }) => (
            <IconBase className={className}>
                <circle cx="12" cy="8" r="7"></circle>
                <polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"></polyline>
            </IconBase>
        );

        const ChevronRight = ({ className }) => (
            <IconBase className={className}>
                <polyline points="9 18 15 12 9 6"></polyline>
            </IconBase>
        );

        // -----------------------------------------------------------------------------
        // データセット (全60問)
        // -----------------------------------------------------------------------------
        const FULL_QUESTION_DATA = [
            // I. 助産業務ガイドラインと妊婦管理
            {
                id: 1,
                category: "I. 助産業務ガイドラインと妊婦管理",
                question: "「助産業務ガイドライン2024」の刊行に至った背景として、最も適切ではないものはどれか。",
                options: [
                "医療の進歩や社会構造の変化に応じた、より良質な助産業務が求められているため。",
                "周産期死亡率が国際的に見て不良な状況に転じたため。",
                "働き方改革に対応した医療提供者間のタスクシフトが強調されるようになったため。",
                "最近の文献検索を行い、エビデンスに基づいた助産業務の整理を行うため。"
                ],
                correctAnswerIndex: 1, // 選択肢2
                explanation: "わが国の周産期死亡率は国際的にみても良好な状況で推移しているが、より良質な助産業務が求められているのが刊行の背景にある。周産期死亡率が悪化したわけではない。"
            },
            {
                id: 2,
                category: "I. 助産業務ガイドラインと妊婦管理",
                question: "助産師が管理できる対象者を定めた「妊婦管理適応リスト」において、「産婦人科医師が管理すべき対象者（C）」に該当する妊婦はどれか。",
                options: [
                "妊娠前BMIが25以上である妊婦。",
                "妊娠40歳以上の妊婦。",
                "気管支喘息の既往があるが、現在治療を必要とせず、妊娠によって悪化が認められない妊婦。",
                "気管支喘息を合併している妊婦。"
                ],
                correctAnswerIndex: 3, // 選択肢4
                explanation: "気管支喘息を合併している妊婦は、原則として「C 産婦人科医師が管理すべき対象者」とされている。ただし、現在内服薬を必要とせず、妊娠によって悪化が認められない場合は「B 連携する産婦人科医師と相談の上、協働管理すべき対象者」となる。"
            },
            {
                id: 3,
                category: "I. 助産業務ガイドラインと妊婦管理",
                question: "リスクのない単胎妊婦に対する妊婦健康診査において、妊娠24週から35週までの望ましい健診間隔はどれか。",
                options: [
                "4週間ごと。",
                "3週間ごと。",
                "2週間ごと。",
                "1週間ごと。"
                ],
                correctAnswerIndex: 2, // 選択肢3
                explanation: "リスクのない単胎妊婦の妊婦健康診査の望ましい回数・間隔は、妊娠24週から35週はおおむね2週間ごととされている。"
            },
            {
                id: 4,
                category: "I. 助産業務ガイドラインと妊婦管理",
                question: "助産所で分娩を取り扱う際の、医療安全上留意すべき事項として定められている新生児蘇生法の習熟に関する要件はどれか。",
                options: [
                "新生児蘇生法（NCPR）指導者コースを修了し、指導者として活動できること。",
                "NCPRの理論を理解し、年に一度アルゴリズムを確認すること。",
                "NCPR講習会を受講した記録を保存していること。",
                "NCPRの認定を更新し、定期的にアルゴリズムを確認していること。"
                ],
                correctAnswerIndex: 3, // 選択肢4
                explanation: "分娩を取り扱うすべての助産所において、助産師は新生児蘇生法（NCPR）講習会を修了し、継続的に認定を更新し、定期的にアルゴリズムを確認していることが、妊産婦、胎児、新生児の安全管理のために整備されているべき事項の一つである。"
            },
            {
                id: 5,
                category: "I. 助産業務ガイドラインと妊婦管理",
                question: "助産所で分娩を取り扱う際の「連携する産婦人科医師と相談の上、協働管理すべき対象者（B）」に該当する妊婦への対応として、最も重要であるとされている事項はどれか。",
                options: [
                "助産師が管理方針を決定し、事後に医師に報告すること。",
                "協働管理のリスクについてのみ、文書で同意を得ること。",
                "妊産婦、助産師、産婦人科医師の三者が管理方針について互いに合意すること。",
                "妊婦本人の同意を得て、医師への報告は口頭でよいこと。"
                ],
                correctAnswerIndex: 2, // 選択肢3
                explanation: "「B．連携する産婦人科医師と相談の上、協働管理すべき対象者」に関しては、妊産婦に十分な説明を行い、妊産婦、助産師、産婦人科医師の三者が妊娠、分娩の管理方針について互いに合意することが重要である。"
            },
            {
                id: 6,
                category: "I. 助産業務ガイドラインと妊婦管理",
                question: "助産師が管理できる対象者のうち、「産科的既往がある妊婦」に対する協働管理の検討事項として、切迫早産の既往がある妊婦の管理において、特に慎重な管理が求められる所見はどれか。",
                options: [
                "身長が150cm未満であること。",
                "妊娠前BMIが25以上であること。",
                "頸管長短縮がみられること。",
                "分娩時大量出血（500mL以上）の既往があること。"
                ],
                correctAnswerIndex: 2, // 選択肢3
                explanation: "早産は再発リスクが高く、慎重に管理する必要がある。頸管長短縮は、最も高い早産の予測因子であるため、産婦人科医師の診察で早産傾向を確認することが求められる。"
            },
            {
                id: 7,
                category: "I. 助産業務ガイドラインと妊婦管理",
                question: "助産所で分娩を取り扱う際の医療連携に関する事項として、妊産婦に十分な説明を行い、書面によって同意を得ることが望ましいとされる対象者はどれか。",
                options: [
                "A 助産師が管理できる対象者。",
                "B 連携する産婦人科医師と相談の上、協働管理すべき対象者。",
                "C 産婦人科医師が管理すべき対象者。",
                "全ての妊婦。"
                ],
                correctAnswerIndex: 1, // 選択肢2
                explanation: "「B．連携する産婦人科医師と相談の上、協働管理すべき対象者」に該当する妊婦については、医師に報告・相談し、文書によって確認することが望ましいとされている。"
            },
            {
                id: 8,
                category: "I. 助産業務ガイドラインと妊婦管理",
                question: "妊娠中の体重増加量の指導目安として、妊娠前BMIが18.5以上25未満（普通）の女性に対する推奨はどれか。",
                options: [
                "12～15kg。",
                "10～13kg。",
                "7～10kg。",
                "個別対応（上限5kgまでが目安）。"
                ],
                correctAnswerIndex: 1, // 選択肢2
                explanation: "日本産科婦人科学会周産期委員会による妊娠中の体重増加指導の目安では、BMI 18.5以上25未満（普通）の女性に対し10～13kgの増加が推奨されている。"
            },
            {
                id: 9,
                category: "I. 助産業務ガイドラインと妊婦管理",
                question: "妊娠中の体重増加量が著しく少ない妊婦が抱えるリスクとして、大規模なメタ解析で報告されているものはどれか。",
                options: [
                "妊娠高血圧症候群の発症リスク。",
                "巨大児分娩のリスク。",
                "帝王切開分娩のリスク。",
                "低出生体重児分娩や早産のリスク。"
                ],
                correctAnswerIndex: 3, // 選択肢4
                explanation: "妊娠中の体重増加量がInstitute of Medicine（IOM）の推奨体重増加量より少ない場合、SGA児や早産のリスクが高まることが大規模なメタ解析で報告されている。"
            },
            {
                id: 10,
                category: "I. 助産業務ガイドラインと妊婦管理",
                question: "助産師が管理できる対象者（A）に該当する妊婦の要件として、最も不適切なものはどれか。",
                options: [
                "妊娠中に推奨される健康診査の間隔を理解している。",
                "単胎・頭位で経腟分娩が可能と判断されたもの。",
                "妊娠経過中継続して管理され、正常に経過しているもの。",
                "妊娠中に産婦人科医師の診察が最低1回可能なもの。"
                ],
                correctAnswerIndex: 3, // 選択肢4
                explanation: "助産師が管理できる対象者（A）の適応の一つとして、「妊娠中に産婦人科医師の診察が複数回可能なもの」と定められている。"
            },
            // II. 異常妊娠・分娩時の管理と対応
            {
                id: 11,
                category: "II. 異常妊娠・分娩時の管理と対応",
                question: "分娩期における胎児心拍数陣痛図の評価法で、胎児健常性（well-being）が障害されているおそれがあると判断される波形はどれか。",
                options: [
                "心拍数基線が正常脈で基線細変動が正常な波形。",
                "亜正常波形（レベル2）。",
                "サイナソイダルパターン。",
                "基線細変動が正常な軽度遅発一過性徐脈。"
                ],
                correctAnswerIndex: 2, // 選択肢3
                explanation: "胎児心拍数陣痛図の評価において、サイナソイダルパターンは胎児心拍数波形分類のレベル4〜5に相当し、胎児健常性（well-being）が障害されているおそれがあると判断される。"
            },
            {
                id: 12,
                category: "II. 異常妊娠・分娩時の管理と対応",
                question: "分娩が遷延している場合の目安として、規則的な陣痛が開始してから「今後も有効陣痛が期待できない」と判断される時間（分娩時間）は、初産婦と経産婦でそれぞれ何時間以上か。",
                options: [
                "初産婦24時間以上、経産婦12時間以上。",
                "初産婦30時間以上、経産婦24時間以上。",
                "初産婦30時間以上、経産婦15時間以上。",
                "初産婦36時間以上、経産婦18時間以上。"
                ],
                correctAnswerIndex: 2, // 選択肢3
                explanation: "規則的な陣痛が開始してから、初産婦では分娩時間が30時間以上、経産婦では15時間以上経過し、今後も有効陣痛が期待できない場合は、分娩遷延と判断される。"
            },
            {
                id: 13,
                category: "II. 異常妊娠・分娩時の管理と対応",
                question: "臍帯脱出が視認された場合の、搬送までの対応として最も適切なものはどれか。",
                options: [
                "児を圧迫しないよう注意しつつ、用手的に臍帯を子宮内に戻す。",
                "分娩監視装置によるモニタリングを中止し、安静臥床とする。",
                "胸膝位または骨盤高位とし、用手経腟的に先進部を挙上し続ける。",
                "臍帯を乾燥から守るため、温めた生理食塩水に浸す。"
                ],
                correctAnswerIndex: 2, // 選択肢3
                explanation: "臍帯脱出の際の搬送までの対応例として、胸膝位または骨盤高位、および臍帯圧迫を避けるために用手経腟的に先進部を挙上し続けることが推奨されている。"
            },
            {
                id: 14,
                category: "II. 異常妊娠・分娩時の管理と対応",
                question: "産科危機的出血への対応において、「産科DICスコア」（2024年改訂版）の合計点が、産科DICと診断される基準は何点以上か。",
                options: [
                "5点以上。",
                "6点以上。",
                "7点以上。",
                "8点以上。"
                ],
                correctAnswerIndex: 3, // 選択肢4
                explanation: "産科DICスコアの合計が8点以上となった産褥婦を産科DICと診断するとされている。"
            },
            {
                id: 15,
                category: "II. 異常妊娠・分娩時の管理と対応",
                question: "妊産褥婦が子癇を起こした際の初期対応として、けいれん停止後に新たに行うべきこととして明記された対応はどれか。",
                options: [
                "転落防止のためサイドレールを使用すること。",
                "硫酸マグネシウムをボーラス投与すること。",
                "鎮静薬（ジアゼパムやミダゾラム）を直ちに投与すること。",
                "気道確保と酸素投与を行うこと。"
                ],
                correctAnswerIndex: 3, // 選択肢4
                explanation: "子癇によるけいれん中は呼吸が止まるため低酸素血症に陥りやすい。そのため、けいれん停止後には気道確保と酸素投与を行うことが新たに明記された。転落防止はけいれん中に行うべき対応であり、硫酸マグネシウムは子癇の再発予防のために投与する。"
            },
            {
                id: 16,
                category: "II. 異常妊娠・分娩時の管理と対応",
                question: "分娩時、胎児心拍数陣痛図で胎児機能不全が疑われる異常所見が出現した際、胎児蘇生を行う場合に最も有益な方法として提示されているものはどれか。",
                options: [
                "母体体位変換。",
                "母体への酸素投与（リザーバー付きマスクを使用）。",
                "リンゲル液の急速輸液。",
                "子宮収縮抑制薬の投与（ニトログリセリンまたはリトドリン）。"
                ],
                correctAnswerIndex: 0, // 選択肢1
                explanation: "胎児蘇生法は予後改善を明確に示したエビデンスはまだ乏しいものの、子宮収縮時や大動脈・下大静脈圧迫の軽減、臍帯圧迫の軽減を目的とした側臥位への母体体位変換は、胎児血酸素化に有利に働く可能性がある。"
            },
            {
                id: 17,
                category: "II. 異常妊娠・分娩時の管理と対応",
                question: "帝王切開既往妊婦が経腟分娩（TOLAC）を希望した場合の管理において、分娩誘発あるいは陣痛促進の際に使用しないことが強く勧められる（推奨レベルA）薬剤はどれか。",
                options: [
                "オキシトシン製剤。",
                "プロスタグランジン製剤。",
                "エフェドリン注射薬。",
                "硫酸マグネシウム水和物。"
                ],
                correctAnswerIndex: 1, // 選択肢2
                explanation: "TOLACを行う際の分娩誘発または陣痛促進において、プロスタグランジン製剤（PGF2α製剤、PGE2製剤[経口剤]、PGE2製剤[腟用剤]など）は使用しないことが強く勧められている（推奨レベルA）。これは子宮破裂のリスクを最小限にするためである。"
            },
            {
                id: 18,
                category: "II. 異常妊娠・分娩時の管理と対応",
                question: "妊娠中に血栓塞栓症（VTE）発症リスク評価を行う際、VTE高リスクの第1群に該当する妊婦が妊娠中に行うべき処置はどれか。",
                options: [
                "低用量アスピリンの服用。",
                "弾性ストッキング着用を推奨する。",
                "予防的抗凝固療法を行う。",
                "厳密な観察のみを行う。"
                ],
                correctAnswerIndex: 2, // 選択肢3
                explanation: "VTE高リスクの第1群に該当する女性は、妊娠中の予防的抗凝固療法を行うこととされている。低用量アスピリンは抗リン脂質抗体症候群合併妊娠で推奨されるが、VTE単独の高リスク群へのルーチンの使用ではない。"
            },
            {
                id: 19,
                category: "II. 異常妊娠・分娩時の管理と対応",
                question: "新生児蘇生法（NCPR）アルゴリズム（2020年版）において、出生直後の児が蘇生を必要とするかどうかの判断基準に含まれる項目はどれか。",
                options: [
                "皮膚色がチアノーゼである。",
                "胎便性羊水混濁を伴う。",
                "弱い呼吸または弱い啼泣がある。",
                "胎児心拍数（FHR）が80bpm未満である。"
                ],
                correctAnswerIndex: 2, // 選択肢3
                explanation: "出生直後の評価チェックポイントは、早産児、弱い呼吸・弱い啼泣、筋緊張低下の3項目であり、これらのいずれかを認めれば蘇生のステップに進む。心拍数や皮膚色は初期評価の3項目には含まれない。"
            },
            {
                id: 20,
                category: "II. 異常妊娠・分娩時の管理と対応",
                question: "出生直後の正常新生児の体温保持について、最も適切な対応はどれか。",
                options: [
                "生後直後に感染予防のために沐浴を行う。",
                "呼吸状態が安定するまでラジアントウォーマー下で安静にする。",
                "温かく乾いたタオルで身体表面の水分を拭き取る。",
                "低体温予防のため、直ちに頭部に帽子を被せる。"
                ],
                correctAnswerIndex: 2, // 選択肢3
                explanation: "新生児は低体温をきたしやすいため、温かく乾いたタオルで身体表面の水分を拭き取り、保温に努める。沐浴は呼吸循環が安定した生後6時間以降が望ましいとされている。"
            },
            {
                id: 21,
                category: "II. 異常妊娠・分娩時の管理と対応",
                question: "合併症を持たない正期産新生児に対するビタミンK製剤の予防投与法「3か月法」において、生後3か月までの投与回数の合計は一般的に何回とされているか。",
                options: [
                "3回。",
                "12回。",
                "13回。",
                "20回。"
                ],
                correctAnswerIndex: 2, // 選択肢3
                explanation: "3か月法では、計13回ビタミンK2シロップを内服させる（出生直後、生後1週または産科退院時、その後1週間ごとに3か月まで）。"
            },
            {
                id: 22,
                category: "II. 異常妊娠・分娩時の管理と対応",
                question: "帝王切開既往妊婦がTOLAC（試行的経腟分娩）を選択する際の要件として、最も強く勧められる（推奨レベルA）確認事項はどれか。",
                options: [
                "既往帝王切開術後経過が良好であったこと。",
                "既往帝王切開数が1回であること。",
                "緊急帝王切開および子宮破裂に対する緊急手術が可能であること。",
                "既往帝王切開術式が子宮下節横切開であること。"
                ],
                correctAnswerIndex: 2, // 選択肢3
                explanation: "TOLACを実施する際には、緊急帝王切開および子宮破裂に対する緊急手術が可能であることが、最も強く勧められる（推奨レベルA）要件である。"
            },
            // III. 産褥期・新生児期のケア
            {
                id: 23,
                category: "III. 産褥期・新生児期のケア",
                question: "産褥期の母親のメンタルヘルスの把握のために使用される「エジンバラ産後うつ質問票（EPDS）」の利用に関する留意点として、最も適切なものはどれか。",
                options: [
                "EPDSの点数のみで、うつ病の確定診断が可能である。",
                "日本での高得点者のカットオフ値は10点以上とされている。",
                "EPDSの点数だけでなく、周囲のサポート状況や育児、子どもへの気持ちなどについても把握し、総合的にアセスメントする。",
                "スクリーニングで高得点を得た場合、まず地域行政に相談し、精神科医への紹介は最終手段とする。"
                ],
                correctAnswerIndex: 2, // 選択肢3
                explanation: "EPDSはスクリーニングのために使用されるもので、うつ病や重症度を診断するものではない。そのため、EPDSの点数だけでなく、周囲のサポート状況や育児、子どもへの気持ちなどについても把握し、総合的にアセスメントすることが求められている。"
            },
            {
                id: 24,
                category: "III. 産褥期・新生児期のケア",
                question: "新生児聴覚スクリーニング検査の結果が「refer（要再検）」であった場合、先天性サイトメガロウイルス（CMV）感染の確定診断を、いつまでに、どの検体を用いて行うことが推奨されているか。",
                options: [
                "生後24時間以内、血液を用いる核酸検査。",
                "生後3週間以内、新生児尿を用いる核酸検査。",
                "生後1週間以内、臍帯血を用いる抗体検査。",
                "生後6か月以内、唾液を用いる抗原検査。"
                ],
                correctAnswerIndex: 1, // 選択肢2
                explanation: "新生児聴覚検査で異常が確認できない場合（refer）、先天性CMV感染の確定診断は、出生後の感染との鑑別のために生後3週間以内の新生児尿を用いて核酸検査（PCR法）で行うことが推奨されている。"
            },
            {
                id: 25,
                category: "III. 産褥期・新生児期のケア",
                question: "産褥早期に生じる乳腺炎の定義として、体温38.5℃以上の発熱を伴う乳房のくさび形の病変に加え、最も適切な症状はどれか。",
                options: [
                "激しい胸痛。",
                "激しい頭痛。",
                "悪寒またはインフルエンザ様の身体の痛み。",
                "視覚障害。"
                ],
                correctAnswerIndex: 2, // 選択肢3
                explanation: "乳腺炎は、「圧痛、熱感、腫脹のあるくさび形をした乳房の病変で、38.5℃以上の発熱、悪寒、インフルエンザ様の身体の痛みや全身性の疾患としての症状を伴うもの」と定義されている。"
            },
            {
                id: 26,
                category: "III. 産褥期・新生児期のケア",
                question: "乳腺炎と診断された場合の治療方針として、最も適切なものはどれか。",
                options: [
                "搾乳は症状を悪化させるため、直ちに中止する。",
                "感染が疑われるため、速やかに母乳育児を中止させる。",
                "24時間以内に症状が改善しない場合や、急速に症状が悪化する場合には、抗菌薬を投与する。",
                "膿瘍形成を避けるため、症状発現後すぐに切開排膿を行う。"
                ],
                correctAnswerIndex: 2, // 選択肢3
                explanation: "乳腺炎に対する治療として、搾乳や消炎鎮痛薬投与を行い、24時間以内に症状が改善しない場合や、急速に症状が悪化する場合には、抗菌薬を投与することが推奨されている。乳腺炎を起こしている乳房からの授乳は可能であるため、治療前に授乳を止める必要はない。"
            },
            // IV. 災害時医療と搬送システム
            {
                id: 27,
                category: "IV. 災害時医療と搬送システム",
                question: "災害時、大規模な航空機による広域医療搬送に際し、患者の症状の安定化や搬送を行う救護所として、空港や自衛隊基地などに設置される臨時の医療施設を何と呼ぶか。",
                options: [
                "NICU（新生児集中治療室）。",
                "DMAT活動拠点本部。",
                "SCU（航空搬送拠点臨時医療施設）。",
                "MFICU（母体胎児集中治療室）。"
                ],
                correctAnswerIndex: 2, // 選択肢3
                explanation: "大規模災害時の航空機による広域医療搬送に際し、患者の症状の安定化や搬送を行う救護所として、空港や自衛隊基地などに設置される施設を航空搬送拠点臨時医療施設（SCU）という。"
            },
            {
                id: 28,
                category: "IV. 災害時医療と搬送システム",
                question: "災害時小児周産期リエゾン（Disaster Perinatal Liaison）の災害時における主な役割はどれか。",
                options: [
                "災害現場における産婦人科医として、トリアージと緊急処置を行う。",
                "災害拠点病院のDMAT活動拠点本部の運営責任者として活動する。",
                "被災地の小児・周産期医療ニーズの情報収集・発信、および災害急性期における母体・新生児等の受入医療機関や搬送の調整を行う。",
                "災害時に限らず、平時から周産期医療施設の広域連携システムを整備する。"
                ],
                correctAnswerIndex: 2, // 選択肢3
                explanation: "災害時小児周産期リエゾンは、災害医療コーディネーターの総合的な指示のもと、被災地等における小児・周産期医療ニーズの情報収集・発信及び災害急性期における母体・新生児等の受入医療機関や搬送の調整を行う。"
            },
            {
                id: 29,
                category: "IV. 災害時医療と搬送システム",
                question: "岡山県で導入された妊産婦搬送補助システム「iPicss®」（アイピクス）の主な機能として誤っているものはどれか。",
                options: [
                "搬送元と搬送受け入れ施設の複数の関連部署間で、患者情報を一気に共有できる。",
                "搬送中に胎児心拍数陣痛図（CTG）やエコー画像などの動画や画像を安全に送付できる。",
                "搬送患者の医療費を自動的に計算し、保険者に請求できる。",
                "救急搬送用、COVID-19情報共有用、災害時情報共有用の3つのモードで展開されている。"
                ],
                correctAnswerIndex: 2, // 選択肢3
                explanation: "iPicss®は、施設内・施設間・施設-救急隊間の情報共有を補助するシステムであり、患者情報のリアルタイム共有、CTGやエコー画像の安全な送付、搬送時間の短縮などに効果を発揮している。医療費の自動計算機能については言及されていない。"
            },
            {
                id: 30,
                category: "IV. 災害時医療と搬送システム",
                question: "健康保険制度において「移送費」が支給されるための支給要件として、必須の条件はどれか。",
                options: [
                "転院の目的がリハビリテーションであること。",
                "近くに適切な病院がなく、遠方の病院に移送されたこと。",
                "医師の指示があり、移動が困難かつ緊急その他やむを得ない移送であること。",
                "患者または家族の希望により自宅近くの病院へ転院した場合であること。"
                ],
                correctAnswerIndex: 2, // 選択肢3
                explanation: "移送費の支給は、「医師の指示があり」、「療養の原因である病気やけがにより移動が困難であること」、「緊急その他やむを得ないこと」 のいずれにも該当すると保険者が認めた場合に行われる。"
            },
            {
                id: 31,
                category: "IV. 災害時医療と搬送システム",
                question: "令和5年（2023年）の救急搬送における受入困難事案の実態調査の結果から見た、産科・周産期傷病者搬送の最大の特徴はどれか。",
                options: [
                "総搬送人員の61.6%が、ある医療機関から別の医療機関への転院搬送である。",
                "救命救急センター搬送事案の中で、最も照会回数が多かった。",
                "現場滞在時間が平均60分を超過した。",
                "受け入れに至らなかった理由の最多は「医師不在」であった。"
                ],
                correctAnswerIndex: 0, // 選択肢1
                explanation: "令和5年（2023年）の救急搬送実態調査によると、産科・周産期傷病者の総搬送人員37,930人のうち、23,364人（61.6%）が転院搬送であった。これは、一般救急の多くが現場から病院へ運ばれるのとは異なり、周産期医療では診断後に専門施設へ送るシステムが定着していることを意味する。"
            },
            {
                id: 32,
                category: "IV. 災害時医療と搬送システム",
                question: "ドナルド・マクドナルド・ハウスの運営に関する説明として、最も適切なものはどれか。",
                options: [
                "入院中の子どもに付き添う家族が宿泊できる施設で、利用料は無料である。",
                "建設費と運営費は、マクドナルドの店頭募金や企業・個人の寄付、地域のボランティアによって支えられている。",
                "病院や介護施設ではなく、看護師資格を持ったスタッフが常駐するケアサポート型ホテルである。",
                "日本マクドナルド（株）が直接運営しており、日本には2024年12月時点で18ヵ所存在する。"
                ],
                correctAnswerIndex: 1, // 選択肢2
                explanation: "ドナルド・マクドナルド・ハウスは、高度小児医療を提供する病院に隣接して設置され、建設から運営まで、マクドナルドの店頭募金をはじめとする企業や個人の寄付・募金、そして地域のボランティアによって支えられている。利用料は1人1日1,000円である。"
            },
            {
                id: 33,
                category: "IV. 災害時医療と搬送システム",
                question: "民間救急車（患者等搬送事業）の利用に関する説明として、誤っているものはどれか。",
                options: [
                "緊急性の低い転院や通院に利用できる。",
                "費用は原則として全額自己負担となる。",
                "緊急走行（サイレンを鳴らすこと）が可能である。",
                "医療機器（人工呼吸器、輸液ポンプなど）を搭載した搬送が可能である。"
                ],
                correctAnswerIndex: 2, // 選択肢3
                explanation: "民間救急車は緊急走行やサイレンの使用は不可とされている。"
            },
            {
                id: 34,
                category: "IV. 災害時医療と搬送システム",
                question: "災害時に、佐賀県の保健医療調整本部に設置される「小児・周産期班」の主な活動として、最も適切ではないものはどれか。",
                options: [
                "被災地等における小児・周産期医療ニーズの情報収集を行う。",
                "災害急性期における母体・新生児等の受入医療機関や搬送の調整を行う。",
                "佐賀大学医学部附属病院や佐賀県医療センター好生館と連携する。",
                "被災地内の災害拠点病院に入り、院内災害対策本部の指揮を執る。"
                ],
                correctAnswerIndex: 3, // 選択肢4
                explanation: "「小児・周産期班」は県庁の保健医療調整本部内に設置され、県域における小児・周産期医療に関する調整を行う。災害拠点病院内で活動の指揮を執るのはDMAT活動拠点本部であり、統括DMATがその責任者となる。"
            },
            {
                id: 35,
                category: "IV. 災害時医療と搬送システム",
                question: "妊産婦死亡率の改善を目的とした「周産期医療と救急医療の確保と連携に関する懇談会」報告書（2009年）において、周産期救急医療体制の最大の構造的課題とされたものはどれか。",
                options: [
                "産科医の絶対数不足。",
                "NICUの満床による搬送患者の受入能力不足。",
                "麻酔科医の不足。",
                "救急医療情報システムと周産期救急情報システムの未連携。"
                ],
                correctAnswerIndex: 1, // 選択肢2
                explanation: "周産期母子医療センターにおける搬送患者受入困難の主因はNICUの満床にあり、これが周産期救急患者の受け入れを困難にしている。過去の調査でも、母体搬送を受けられなかった施設の88.0%がその主因にNICU満床を挙げている。"
            },
            {
                id: 36,
                category: "IV. 災害時医療と搬送システム",
                question: "妊産婦の転院搬送において、健康保険の「移送費」が支給されないケースはどれか。",
                options: [
                "離島で重篤な症状のため、本土の高度医療機関へ搬送された場合。",
                "急性心筋梗塞の患者が、カテーテル治療が可能な専門病院へ緊急転院した場合。",
                "医師の指示により、移動困難な状態で緊急に転院した場合。",
                "症状が安定したので、急性期病院からリハビリ目的で他の病院へ転院する場合。"
                ],
                correctAnswerIndex: 3, // 選択肢4
                explanation: "症状が安定した後のリハビリ目的の転院や、自宅への退院時の移送、本人の希望による転院などは、移送費の支給対象外となる。移送費は「緊急その他やむを得ない」場合に限られる。"
            },
            {
                id: 37,
                category: "IV. 災害時医療と搬送システム",
                question: "高知県の災害時医療救護マニュアルに記載されている、災害時における「災害時周産期リエゾン」の役割はどれか。",
                options: [
                "県保健医療本部内において、災害医療コーディネーター（総括）の総合的な指示または調整のもとに、周産期医療に関する支援を行う。",
                "被災地の各市町村災害対策本部において、妊産婦のトリアージを指揮する。",
                "災害急性期において、DMAT活動拠点本部のロジスティクスを支援する。",
                "被災地内の医療機関に代わり、EMISに医療機関の被災状況等の情報を代行入力する。"
                ],
                correctAnswerIndex: 0, // 選択肢1
                explanation: "災害時周産期リエゾンは、県保健医療本部内において、災害医療コーディネーター（総括）の総合的な指示または調整のもとに、周産期医療に関する支援を行うと規定されている。"
            },
            {
                id: 38,
                category: "IV. 災害時医療と搬送システム",
                question: "岡山県で導入されている妊産婦搬送補助システム「iPicss®」が、従来の搬送システムと比べて特に優れている点として報告されている効果はどれか。",
                options: [
                "搬送車両に高度な医療機器を搭載できるようになった。",
                "治療開始までの時間を最大で40%短縮できた。",
                "全ての搬送事案において、照会回数を1回に削減できた。",
                "搬送先の空床状況を、全国規模でリアルタイムに把握できる。"
                ],
                correctAnswerIndex: 1, // 選択肢2
                explanation: "iPicss®の導入効果として、妊産婦の緊急搬送情報連携により、従来の治療開始時間から40%短縮（約20分50秒から13分30秒へ）できたことが報告されている。"
            },
            // V. 医薬品・検査とその他の知識
            {
                id: 39,
                category: "V. 医薬品・検査とその他の知識",
                question: "妊娠中に服用する医薬品について、添付文書上「有益性投与」とされているにもかかわらず、胎児・新生児に対して特に注意が必要なものとして挙げられているのはどれか。",
                options: [
                "カルバマゼピン（抗てんかん薬）。",
                "パロキセチン（SSRI）。",
                "ミソプロストール。",
                "ワルファリンカリウム。"
                ],
                correctAnswerIndex: 1, // 選択肢2
                explanation: "添付文書上「有益性投与」の精神神経用薬であるパロキセチン（SSRI）は、催奇形性の疑いや新生児薬物離脱症候群のリスクがあるため、特に注意が必要な医薬品として挙げられている。"
            },
            {
                id: 40,
                category: "V. 医薬品・検査とその他の知識",
                question: "妊娠初期に胎児の神経管閉鎖障害（NTDs）の発症リスク低減を目的として、妊娠可能年齢の女性に推奨される葉酸の補充量は、1日あたりどれくらいか。",
                options: [
                "1日1mg。",
                "1日2mg。",
                "1日0.4mg。",
                "1日4mg。"
                ],
                correctAnswerIndex: 2, // 選択肢3
                explanation: "挙児希望または妊娠の可能性のある女性には、神経管閉鎖障害発症リスク低減のため、サプリメントによる1日0.4mgの葉酸（プテロイルモノグルタミン酸）補充が推奨されている。"
            },
            {
                id: 41,
                category: "V. 医薬品・検査とその他の知識",
                question: "妊婦の喫煙が妊娠予後に及ぼす影響として、疫学研究で有意な関連が指摘されているものはどれか。",
                options: [
                "妊娠高血圧症候群の発症率低下。",
                "常位胎盤早期剝離の頻度増加。",
                "児の先天異常の発症率低下。",
                "児の出生体重増加。"
                ],
                correctAnswerIndex: 1, // 選択肢2
                explanation: "妊娠中の喫煙は、常位胎盤早期剝離、前置胎盤、早産の頻度を増加させる可能性が報告されている。また、児体重は抑制され、先天異常が増加することが報告されている。"
            },
            {
                id: 42,
                category: "V. 医薬品・検査とその他の知識",
                question: "産科超音波検査を実施する際の留意点として、「胎児超音波検査」が「通常超音波検査」と異なる点について、最も適切な説明はどれか。",
                options: [
                "胎児超音波検査は全ての妊婦を対象とした標準検査である。",
                "胎児超音波検査では、胎児形態異常の診断を目的としない。",
                "胎児超音波検査は胎児形態異常の診断を目的とし、原則として妊婦・家族の希望に基づいて実施される。",
                "胎児超音波検査は、妊娠初期（10～13週）の1回のみで十分である。"
                ],
                correctAnswerIndex: 2, // 選択肢3
                explanation: "「胎児超音波検査」は、胎児形態異常の診断を目的として行われ、原則として妊婦・家族の希望に基づき実施される点や、倫理的配慮が必要な点で「通常超音波検査」とは異なる。胎児形態評価の至適時期は、妊娠10～13週頃、18～20週頃、28～31週頃の3つの時期で適宜設定される。"
            },
            {
                id: 43,
                category: "V. 医薬品・検査とその他の知識",
                question: "妊娠前の体格評価において、妊娠前BMIが25以上を「肥満」とする基準を設けているのはどこか。",
                options: [
                "WHO（世界保健機関）。",
                "日本肥満学会。",
                "IOM（米国医学研究所）。",
                "FIGO（国際産婦人科連合）。"
                ],
                correctAnswerIndex: 1, // 選択肢2
                explanation: "日本では日本肥満学会の基準により、妊娠前BMIが25以上を肥満と定義している。WHOなどの海外の基準では、BMI 30以上を肥満の基準とし、BMI 25.0～29.9を過体重（overweight）に分類することが多い。"
            },
            {
                id: 44,
                category: "V. 医薬品・検査とその他の知識",
                question: "妊婦の尿路感染症（UTI）の治療に関する注意点として、最も適切なものはどれか。",
                options: [
                "妊娠中は急性腎盂腎炎へ進展するリスクが低いため、治療を急がなくてもよい。",
                "妊婦の膀胱炎の治療には、ペニシリン系やセフェム系抗菌薬の7日間の投与が推奨される。",
                "妊娠中の腎盂腎炎は、原則としてキノロン系抗菌薬による内服治療を推奨する。",
                "無症候性細菌尿は、早産リスクとは関連しないため、妊娠中は治療を推奨しない。"
                ],
                correctAnswerIndex: 1, // 選択肢2
                explanation: "妊婦の膀胱炎の場合、ペニシリン系やセフェム系抗菌薬の7日間の投与が推奨される。キノロン系抗菌薬は妊婦では原則禁忌である。妊娠中はASB（無症候性細菌尿）から腎盂腎炎へ進展するリスクが高いため、ASBのスクリーニングと治療が推奨されている。"
            },
            {
                id: 45,
                category: "V. 医薬品・検査とその他の知識",
                question: "人工妊娠中絶を希望する妊婦に対して、手術前に必須ではないが、推奨される検査項目はどれか。",
                options: [
                "血液型（ABO型、RhD型）の確認。",
                "血算（貧血や血小板数の確認）。",
                "心電図（術中の心電図モニターで代用可能）。",
                "妊娠週数の確定診断。"
                ],
                correctAnswerIndex: 2, // 選択肢3
                explanation: "人工妊娠中絶時の術前検査として、血液型（ABO、RhD）（A推奨）、血算（B推奨）は必須とされている。心電図は術前検査として（C推奨）であるが、術中の心電図モニターで代用が可能である。"
            },
            {
                id: 46,
                category: "V. 医薬品・検査とその他の知識",
                question: "閉経後骨粗鬆症の治療における薬物療法の第一選択薬として、強く勧められる（推奨レベルA）ビスホスホネート製剤はどれか。",
                options: [
                "エチドロン酸。",
                "アレンドロン酸。",
                "ミノドロン酸。",
                "イバンドロン酸。"
                ],
                correctAnswerIndex: 1, // 選択肢2
                explanation: "骨粗鬆症治療薬の有効性の評価において、アレンドロン酸（ビスホスホネート製剤）は、骨密度増加、椎体骨折予防、非椎体骨折予防の各効果に関して十分なエビデンス（A評価）があり、第一選択薬として推奨されている。"
            },
            {
                id: 47,
                category: "V. 医薬品・検査とその他の知識",
                question: "子宮収縮薬（オキシトシン、プロスタグランジン製剤など）の投与を開始する前に、分娩監視装置で胎児心拍数陣痛図を記録し、重度胎児機能不全でないことを確認することが禁忌とされている薬剤はどれか。",
                options: [
                "オキシトシン。",
                "プロスタグランジンF2α製剤。",
                "プロスタグランジンE2製剤（経口剤）。",
                "1と2の両方。"
                ],
                correctAnswerIndex: 3, // 選択肢4
                explanation: "オキシトシンとプロスタグランジンF2α製剤は、投与開始前に重度胎児機能不全（レベル5の胎児心拍数波形が目安）でないことを確認することが禁忌とされている。プロスタグランジンE2製剤（経口剤）は、胎児機能不全（レベル3～5）でないことを確認する。"
            },
            {
                id: 48,
                category: "V. 医薬品・検査とその他の知識",
                question: "妊娠中にパルボウイルスB19感染（伝染性紅斑）の診断が確定または強く疑われた妊婦に対して、胎児感染徴候（胎児水腫など）を評価するために推奨される検査はどれか。",
                options: [
                "胎児臍帯動脈の血流速度測定。",
                "胎児中大脳動脈の最大血流速度（MCA-PSV）計測。",
                "母体血中のパルボウイルスB19 IgM抗体価測定。",
                "胎児輸血による貧血の直接診断。"
                ],
                correctAnswerIndex: 1, // 選択肢2
                explanation: "胎児貧血を伴う所見や胎児水腫の有無を確認するために、超音波Doppler法を用いた胎児中大脳動脈最大血流速度（MCA-PSV）の計測が、非侵襲的検査として有用である。パルボウイルスB19 IgM抗体測定は母体感染の診断に用いるが、胎児感染徴候の評価ではない。"
            },
            {
                id: 49,
                category: "V. 医薬品・検査とその他の知識",
                question: "妊娠中の黄体ホルモン療法について、流早産ハイリスク妊婦への対応として、専門医の意見を参考にした現在のガイドラインの認識はどれか。",
                options: [
                "有効性は示唆されるものの、適切な対象や投与方法についての高いレベルのエビデンスは十分ではない。",
                "ランダム化比較試験で流早産予防効果が確立された治療法である。",
                "頸管長が25mm未満であれば、黄体ホルモン療法よりも頸管縫縮術が優先される。",
                "早産既往のない妊婦に対してルーチンで使用すべきである。"
                ],
                correctAnswerIndex: 0, // 選択肢1
                explanation: "早産予防としての黄体ホルモン療法の有効性について尋ねられた場合、「有効性は示唆されるものの、適切な対象、投与方法についての高いレベルのエビデンスは十分ではない」と答えるべきであるとされている。"
            },
            {
                id: 50,
                category: "V. 医薬品・検査とその他の知識",
                question: "妊産婦が心停止に至った際の蘇生措置に関する留意点として、最も適切なものはどれか。",
                options: [
                "心停止後10分以内に蘇生処置を行っても、児の生存は期待できない。",
                "胎児がいる場合は、胎児への影響を考慮し、除細動（電気ショック）は避ける。",
                "子宮底が臍高よりも上方にある場合、仰臥位で子宮左方移動を行い、母体循環の改善を図る。",
                "蘇生開始から4分以内に心拍再開が見られなかった場合、直ちに死戦期帝王切開術を行う。"
                ],
                correctAnswerIndex: 2, // 選択肢3
                explanation: "妊産婦が心停止に至った際、子宮が臍高よりも上方に位置する場合には、子宮左方移動を行うことにより、大動脈・下大静脈圧迫が解除され、母体循環の改善効果が期待できる。除細動は胎児がいる場合でも行う。死戦期帝王切開術は、心停止後4分経っても心拍再開がない場合に施行が考慮される。"
            },
            {
                id: 51,
                category: "V. 医薬品・検査とその他の知識",
                question: "妊娠中に甲状腺機能低下症を伴う妊婦が発見された場合、最も推奨される対応はどれか。",
                options: [
                "妊娠初期の一過性のものであるため、経過観察とし治療は行わない。",
                "甲状腺疾患に豊富な知識・経験のある医師と速やかに連携し、甲状腺機能の正常化などの管理を行う。",
                "原則として、妊婦の甲状腺ホルモン補充は児に影響を及ぼすため行わない。",
                "TSHの値にかかわらず、妊娠中にTSHを測定する必要はない。"
                ],
                correctAnswerIndex: 1, // 選択肢2
                explanation: "甲状腺疾患管理中の妊婦や、甲状腺機能検査で異常が認められた場合には、必要に応じて甲状腺疾患に豊富な知識・経験のある医師と速やかに連携し、甲状腺機能の正常化などの管理を行うことが推奨されている。甲状腺機能低下症を放置すると、流産率・早産率の上昇や児の神経発達に影響を及ぼす可能性がある。"
            },
            {
                id: 52,
                category: "V. 医薬品・検査とその他の知識",
                question: "単胎骨盤位（逆子）の妊婦に対して、分娩時の骨盤位を避ける目的で外回転術を施行する際の適切な時期は、一般的にいつ頃か。",
                options: [
                "妊娠28週以降。",
                "妊娠32週以降。",
                "妊娠36週以降。",
                "分娩開始直前。"
                ],
                correctAnswerIndex: 2, // 選択肢3
                explanation: "外回転術の実施時期について、妊娠37週未満での実施は早産を増加させる可能性があることなどから、一般施設での実施時期の目安は妊娠36週以降とするのが妥当である。"
            },
            {
                id: 53,
                category: "V. 医薬品・検査とその他の知識",
                question: "臍帯動脈の血流異常（拡張期途絶・逆流）と羊水過少を両方呈する一児発育不全（selective FGR）の一絨毛膜双胎に対して、妊娠26週未満で行う胎児治療として検討されるものはどれか。",
                options: [
                "羊水除去。",
                "胎児鏡下胎盤吻合血管レーザー凝固術（FLP）。",
                "選択的胎児減数術。",
                "カベルゴリン投与。"
                ],
                correctAnswerIndex: 1, // 選択肢2
                explanation: "selective FGRで臍帯動脈血流異常と羊水過少を呈する予後不良例に対し、胎児鏡下胎盤吻合血管レーザー凝固術（FLP）が治療法として検討される。"
            },
            {
                id: 54,
                category: "V. 医薬品・検査とその他の知識",
                question: "新生児集中治療室（NICU）がない施設において、新生児の緊急搬送の対象となる所見や状態として、最も適切ではないものはどれか。",
                options: [
                "低体温（皮膚温35.5℃以下）が持続し、他の症状がある場合。",
                "出生体重が2,300g未満の児。",
                "嘔吐があり、吐物が胆汁色を帯びる場合。",
                "低出生体重児で、早期授乳後1時間の血糖値が30mg/dL（25mg/dL以上50mg/dL未満）であったが、低血糖症状がみられない児。"
                ],
                correctAnswerIndex: 3, // 選択肢4
                explanation: "低出生体重児が早期授乳後1時間の血糖値が25mg/dL以上50mg/dL未満で症状がない場合、再度授乳を行い、次回授乳直前または授乳後1時間に再検する。25mg/dL未満で症状の有無にかかわらず緊急搬送が必要となる。"
            },
            {
                id: 55,
                category: "V. 医薬品・検査とその他の知識",
                question: "分娩誘発を行う際に、頸管熟化の評価法として一般的に用いられるスコアはどれか。",
                options: [
                "Apgarスコア。",
                "Bishopスコア。",
                "FIGOスコア。",
                "Glasgow Coma Scale（GCS）。"
                ],
                correctAnswerIndex: 1, // 選択肢2
                explanation: "分娩誘発の成功率は頸管熟化の状態に依存するため、頸管熟化の評価法としてはBishop scoreが一般的に用いられる。"
            },
            {
                id: 56,
                category: "V. 医薬品・検査とその他の知識",
                question: "妊娠中期に羊水過多が確認された場合、胎児側の原因検索で最も考慮すべき異常所見はどれか。",
                options: [
                "胎児心拍数異常。",
                "胎児の羊水嚥下・吸収障害（消化管閉鎖、神経筋疾患など）。",
                "母体の妊娠高血圧症候群。",
                "胎児の性別不確定。"
                ],
                correctAnswerIndex: 1, // 選択肢2
                explanation: "羊水過多の主な原因の一つは胎児の羊水嚥下・吸収障害（横隔膜ヘルニア、消化管閉鎖など）であり、出生直後の外科的治療が救命に直結する疾患も含まれるため、積極的に原因検索を行う。"
            },
            {
                id: 57,
                category: "V. 医薬品・検査とその他の知識",
                question: "産科危機的出血への対応において、「出血やバイタルサインの異常が持続し、交差済同型血の入手が間に合わない超緊急時」に、輸血を検討することが許容される血液製剤はどれか。",
                options: [
                "児の臍帯血。",
                "自己血（あらかじめ貯血したもの）。",
                "未交差同型血または異型適合血。",
                "献血された血液の分離血漿。"
                ],
                correctAnswerIndex: 2, // 選択肢3
                explanation: "危機的出血への対応において、交差適合試験を省略した未交差同型血、さらに心停止が切迫しているような超緊急時には異型適合血の輸血も検討することが許容されている。"
            },
            {
                id: 58,
                category: "V. 医薬品・検査とその他の知識",
                question: "妊娠中のパルボウイルスB19感染が疑われる妊婦に対して、感染時期を推定するために用いられる検査法として最も適切ではないものはどれか。",
                options: [
                "パルボウイルスB19 IgM抗体価測定。",
                "パルボウイルスB19 IgG抗体価測定。",
                "パルボウイルスB19 DNA-PCR法。",
                "母体感染成立時期を推定するIgG avidity測定。"
                ],
                correctAnswerIndex: 2, // 選択肢3
                explanation: "IgG avidity（抗体結合力）測定は、抗体が抗原との親和性を高める性質を利用し、感染後4か月以上経過しているかを推定するのに役立つ。パルボウイルスB19 DNA-PCR法はウイルス自体の存在を検索する検査であり、感染の有無を直接診断する検査であって、感染時期を推定する検査ではない。"
            },
            {
                id: 59,
                category: "V. 医薬品・検査とその他の知識",
                question: "妊産婦死亡につながりうる急激に発症・悪化する疾患として、妊娠後期から産褥期にかけて突然発症する激しい胸背部痛を主症状とするものはどれか。",
                options: [
                "劇症型A群溶血性レンサ球菌感染症。",
                "羊水塞栓症。",
                "周産期心筋症。",
                "大動脈解離。"
                ],
                correctAnswerIndex: 3, // 選択肢4
                explanation: "大動脈解離は、妊娠後期から産褥数か月に起こる突然発症する激しい胸背部痛を主症状とする。"
            },
            {
                id: 60,
                category: "V. 医薬品・検査とその他の知識",
                question: "助産師が「連携する産婦人科医師と相談の上、協働管理すべき対象者（B）」として管理する妊婦に、早産既往がある場合の慎重な管理において、最も高い早産の予測因子として産婦人科医師の診察で確認すべき所見はどれか。",
                options: [
                "妊娠前BMIが25以上であること。",
                "妊娠37週を超えて分娩となったこと。",
                "頸管長短縮。",
                "分娩時大量出血（500mL以上）の既往があること。"
                ],
                correctAnswerIndex: 2, // 選択肢3
                explanation: "早産は再発リスクが高いため慎重な管理が必要であり、頸管長短縮は、最も高い早産の予測因子であることから、産婦人科医師の診察で確認することが求められる。"
            }
        ];

        // -----------------------------------------------------------------------------
        // ユーティリティ関数
        // -----------------------------------------------------------------------------
        const shuffleArray = (array) => {
            const newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        };

        // -----------------------------------------------------------------------------
        // メインコンポーネント
        // -----------------------------------------------------------------------------
        function ELearningApp() {
            const [currentQuestions, setCurrentQuestions] = useState([]);
            const [userAnswers, setUserAnswers] = useState({});
            const [isSubmitted, setIsSubmitted] = useState(false);
            const [score, setScore] = useState(0);

            // 初回ロード時とリセット時に質問をランダムに10個抽出
            const initializeQuiz = () => {
                const shuffled = shuffleArray(FULL_QUESTION_DATA);
                setCurrentQuestions(shuffled.slice(0, 10));
                setUserAnswers({});
                setIsSubmitted(false);
                setScore(0);
                window.scrollTo({ top: 0, behavior: 'smooth' });
            };

            useEffect(() => {
                initializeQuiz();
            }, []);

            // 回答選択ハンドラ
            const handleOptionSelect = (questionId, optionIndex) => {
                if (isSubmitted) return; // 採点後は変更不可
                setUserAnswers(prev => ({
                    ...prev,
                    [questionId]: optionIndex
                }));
            };

            // 採点ハンドラ
            const handleSubmit = () => {
                const answeredCount = Object.keys(userAnswers).length;
                if (answeredCount < 10) {
                    if (!window.confirm("未回答の問題がありますが、採点しますか？")) {
                        return;
                    }
                }

                let calculatedScore = 0;
                currentQuestions.forEach(q => {
                    if (userAnswers[q.id] === q.correctAnswerIndex) {
                        calculatedScore++;
                    }
                });

                setScore(calculatedScore);
                setIsSubmitted(true);
                window.scrollTo({ top: 0, behavior: 'smooth' });
            };

            return (
                <div className="min-h-screen bg-slate-50 text-slate-800 font-sans pb-20">
                    {/* ヘッダー */}
                    <header className="bg-slate-900 text-white shadow-lg sticky top-0 z-50">
                        <div className="max-w-4xl mx-auto px-6 py-4 flex items-center justify-between">
                            <div className="flex items-center space-x-3">
                                <BookOpen className="w-6 h-6 text-yellow-500" />
                                <h1 className="text-xl font-serif tracking-wider font-semibold">
                                    助産業務ガイドライン <span className="text-yellow-500">e-Learning</span>
                                </h1>
                            </div>
                            {isSubmitted && (
                                <div className="flex items-center space-x-2 bg-yellow-600 px-4 py-1 rounded-full animate-fade-in">
                                    <Award className="w-4 h-4 text-white" />
                                    <span className="font-bold text-sm">スコア: {score} / 10</span>
                                </div>
                            )}
                        </div>
                    </header>

                    {/* メインコンテンツ */}
                    <main className="max-w-3xl mx-auto px-4 py-8 space-y-8">
                        
                        {/* イントロダクション */}
                        {!isSubmitted && (
                            <div className="text-center py-6">
                                <p className="text-slate-600 mb-2 font-serif text-sm">PROFESSIONAL KNOWLEDGE CHECK</p>
                                <h2 className="text-2xl font-serif text-slate-800 mb-4">実力確認テスト</h2>
                                <p className="text-sm text-slate-500 max-w-lg mx-auto">
                                    全60問のデータベースからランダムに10問が出題されます。<br/>
                                    回答を選択後、ページ下部の「採点する」ボタンを押してください。
                                </p>
                            </div>
                        )}

                        {/* 結果表示エリア（採点後のみ上部にも表示） */}
                        {isSubmitted && (
                            <div className="bg-white border-t-4 border-yellow-600 shadow-xl rounded-lg p-8 text-center animate-slide-up">
                                <h3 className="text-xl font-serif text-slate-800 mb-2">採点結果</h3>
                                <div className="text-5xl font-bold text-yellow-600 mb-4 font-serif">
                                    {score} <span className="text-2xl text-slate-400">/ 10</span>
                                </div>
                                <p className="text-slate-600 mb-6">
                                    {score === 10 ? "素晴らしい結果です。知識は完璧です。" : 
                                     score >= 7 ? "合格ラインです。誤った箇所を見直しましょう。" : 
                                     "復習が必要です。解説をよく確認してください。"}
                                </p>
                                <button
                                    onClick={initializeQuiz}
                                    className="inline-flex items-center space-x-2 bg-slate-800 hover:bg-slate-700 text-white px-6 py-3 rounded-md transition duration-300 shadow-md"
                                >
                                    <RefreshCw className="w-4 h-4" />
                                    <span>別の問題で再挑戦する</span>
                                </button>
                            </div>
                        )}

                        {/* 問題リスト */}
                        <div className="space-y-10">
                            {currentQuestions.map((q, index) => {
                                const isCorrect = isSubmitted && userAnswers[q.id] === q.correctAnswerIndex;
                                const isSelectedAnswer = userAnswers[q.id] !== undefined;
                                const selectedAnswerIndex = userAnswers[q.id];

                                return (
                                    <div 
                                        key={q.id} 
                                        className={`bg-white rounded-lg shadow-sm border border-slate-200 overflow-hidden transition-all duration-500 ${isSubmitted ? 'opacity-100' : 'hover:shadow-md'}`}
                                    >
                                        {/* 問題ヘッダー */}
                                        <div className="bg-slate-100 px-6 py-3 border-b border-slate-200 flex justify-between items-center">
                                            <span className="text-xs font-bold tracking-widest text-slate-500 uppercase">Question {index + 1}</span>
                                            <span className="text-xs text-slate-400 font-serif">{q.category}</span>
                                        </div>

                                        <div className="p-6 md:p-8">
                                            {/* 問題文 */}
                                            <h3 className="text-lg font-medium text-slate-800 leading-relaxed mb-6 font-serif">
                                                {q.question}
                                            </h3>

                                            {/* 選択肢 */}
                                            <div className="space-y-3">
                                                {q.options.map((option, optIndex) => {
                                                    const isSelected = selectedAnswerIndex === optIndex;
                                                    // 採点後のスタイル判定
                                                    let optionClass = "border-slate-200 hover:bg-slate-50";
                                                    
                                                    if (isSubmitted) {
                                                        if (optIndex === q.correctAnswerIndex) {
                                                            optionClass = "bg-green-50 border-green-300 ring-1 ring-green-300"; // 正解の選択肢
                                                        } else if (isSelected && optIndex !== q.correctAnswerIndex) {
                                                            optionClass = "bg-red-50 border-red-300 ring-1 ring-red-300"; // 誤った選択
                                                        } else {
                                                            optionClass = "border-slate-100 opacity-60"; // その他の選択肢
                                                        }
                                                    } else if (isSelected) {
                                                        optionClass = "bg-yellow-50 border-yellow-400 ring-1 ring-yellow-400"; // 選択中
                                                    }

                                                    return (
                                                        <label
                                                            key={optIndex}
                                                            className={`flex items-start p-4 border rounded-md cursor-pointer transition-all duration-200 ${optionClass}`}
                                                        >
                                                            <input
                                                                type="radio"
                                                                name={`q-${q.id}`}
                                                                className="mt-1 w-4 h-4 text-yellow-600 border-slate-300 focus:ring-yellow-500 shrink-0"
                                                                checked={isSelected}
                                                                onChange={() => handleOptionSelect(q.id, optIndex)}
                                                                disabled={isSubmitted}
                                                            />
                                                            <span className={`ml-3 text-sm md:text-base ${isSubmitted && optIndex === q.correctAnswerIndex ? 'font-bold text-green-800' : 'text-slate-700'}`}>
                                                                {option}
                                                            </span>
                                                        </label>
                                                    );
                                                })}
                                            </div>

                                            {/* 解説エリア（採点後表示） */}
                                            {isSubmitted && (
                                                <div className={`mt-8 p-5 rounded-md border-l-4 animate-fade-in ${isCorrect ? 'bg-green-50 border-green-500' : 'bg-red-50 border-red-500'}`}>
                                                    <div className="flex items-center space-x-2 mb-3">
                                                        {isCorrect ? (
                                                            <CheckCircle className="w-6 h-6 text-green-600" />
                                                        ) : (
                                                            <XCircle className="w-6 h-6 text-red-600" />
                                                        )}
                                                        <span className={`font-bold ${isCorrect ? 'text-green-800' : 'text-red-800'}`}>
                                                            {isCorrect ? '正解' : '不正解'}
                                                        </span>
                                                    </div>
                                                    
                                                    {!isCorrect && (
                                                        <p className="text-sm text-red-700 mb-2">
                                                            <span className="font-bold">正解:</span> {q.options[q.correctAnswerIndex]}
                                                        </p>
                                                    )}

                                                    <div className="text-slate-700 text-sm leading-relaxed mt-2">
                                                        <span className="font-bold block text-xs text-slate-500 uppercase mb-1">Explanation</span>
                                                        {q.explanation}
                                                    </div>
                                                </div>
                                            )}
                                        </div>
                                    </div>
                                );
                            })}
                        </div>

                        {/* アクションボタン */}
                        <div className="pt-8 pb-12 flex justify-center">
                            {!isSubmitted ? (
                                <button
                                    onClick={handleSubmit}
                                    disabled={currentQuestions.length === 0}
                                    className="bg-yellow-600 hover:bg-yellow-700 text-white text-lg px-12 py-4 rounded shadow-lg hover:shadow-xl transition duration-300 flex items-center space-x-2 font-serif"
                                >
                                    <span>採点する</span>
                                    <ChevronRight className="w-5 h-5" />
                                </button>
                            ) : (
                                <button
                                    onClick={initializeQuiz}
                                    className="bg-slate-800 hover:bg-slate-700 text-white text-lg px-12 py-4 rounded shadow-lg hover:shadow-xl transition duration-300 flex items-center space-x-2 font-serif"
                                >
                                    <RefreshCw className="w-5 h-5" />
                                    <span>再度挑戦する（新しい問題）</span>
                                </button>
                            )}
                        </div>
                    </main>
                    
                    {/* フッター */}
                    <footer className="bg-white border-t border-slate-200 py-8 mt-12">
                        <div className="max-w-4xl mx-auto px-6 text-center text-slate-400 text-xs">
                            <p>© 2024 Midwifery Guidelines e-Learning System. All rights reserved.</p>
                            <p className="mt-2">Internal Use Only</p>
                        </div>
                    </footer>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<ELearningApp />);
    </script>
</body>
</html>
